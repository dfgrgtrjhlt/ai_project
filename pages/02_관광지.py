import streamlit as st
import folium
from streamlit_folium import st_folium

# í˜ì´ì§€ ê¸°ë³¸ ì„¤ì •
st.set_page_config(page_title="ì„œìš¸ ê´€ê´‘ì§€ë„", layout="wide")

st.title("ğŸŒ ì™¸êµ­ì¸ì´ ì¢‹ì•„í•˜ëŠ” ì„œìš¸ ì£¼ìš” ê´€ê´‘ì§€ TOP 10")
st.write("Folium ì§€ë„ë¥¼ ì´ìš©í•´ ì™¸êµ­ì¸ì´ ìì£¼ ì°¾ëŠ” ì„œìš¸ì˜ ëª…ì†Œì™€ ì£¼ë³€ ì „ì² ì—­ ì •ë³´ë¥¼ í‘œì‹œí–ˆìŠµë‹ˆë‹¤.")

# ê´€ê´‘ì§€ + ê°€ê¹Œìš´ ì§€í•˜ì² ì—­ ë°ì´í„°
locations = [
    {"name": "ê²½ë³µê¶", "lat": 37.579617, "lon": 126.977041, 
     "desc": "ì¡°ì„ ì‹œëŒ€ì˜ ëŒ€í‘œì ì¸ ê¶ê¶", "station": "3í˜¸ì„  ê²½ë³µê¶ì—­"},
    {"name": "ëª…ë™", "lat": 37.563757, "lon": 126.982690, 
     "desc": "ì‡¼í•‘ê³¼ ê¸¸ê±°ë¦¬ ìŒì‹ìœ¼ë¡œ ìœ ëª…í•œ ê±°ë¦¬", "station": "4í˜¸ì„  ëª…ë™ì—­"},
    {"name": "ë‚¨ì‚°íƒ€ì›Œ(Nì„œìš¸íƒ€ì›Œ)", "lat": 37.551169, "lon": 126.988227, 
     "desc": "ì„œìš¸ì˜ ì „ê²½ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” íƒ€ì›Œ", "station": "4í˜¸ì„  ëª…ë™ì—­"},
    {"name": "ë¶ì´Œí•œì˜¥ë§ˆì„", "lat": 37.582604, "lon": 126.983998, 
     "desc": "ì „í†µ í•œì˜¥ì´ ì˜ ë³´ì¡´ëœ ë§ˆì„", "station": "3í˜¸ì„  ì•ˆêµ­ì—­"},
    {"name": "í™ëŒ€ê±°ë¦¬", "lat": 37.556293, "lon": 126.923694, 
     "desc": "ì ŠìŒê³¼ ì˜ˆìˆ ì˜ ê±°ë¦¬", "station": "2í˜¸ì„  í™ëŒ€ì…êµ¬ì—­"},
    {"name": "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì(DDP)", "lat": 37.566479, "lon": 127.009180, 
     "desc": "í˜„ëŒ€ì  ê±´ì¶•ê³¼ íŒ¨ì…˜ì˜ ì¤‘ì‹¬ì§€", "station": "2í˜¸ì„  ë™ëŒ€ë¬¸ì—­ì‚¬ë¬¸í™”ê³µì›ì—­"},
    {"name": "ë¡¯ë°ì›”ë“œ", "lat": 37.511034, "lon": 127.098016, 
     "desc": "ë„ì‹¬ ì† í…Œë§ˆíŒŒí¬", "station": "2í˜¸ì„  ì ì‹¤ì—­"},
    {"name": "ì²­ê³„ì²œ", "lat": 37.569008, "lon": 126.978528, 
     "desc": "ì„œìš¸ ë„ì‹¬ì„ ê°€ë¡œì§€ë¥´ëŠ” ë³µì›ëœ í•˜ì²œ", "station": "1í˜¸ì„  ì¢…ê°ì—­"},
    {"name": "ì¸ì‚¬ë™", "lat": 37.574024, "lon": 126.984911, 
     "desc": "í•œêµ­ ì „í†µ ë¬¸í™”ì™€ ì˜ˆìˆ ì˜ ê±°ë¦¬", "station": "3í˜¸ì„  ì•ˆêµ­ì—­"},
    {"name": "ì ì‹¤ ë¡¯ë°íƒ€ì›Œ(ì„œìš¸ìŠ¤ì¹´ì´)", "lat": 37.513068, "lon": 127.102493, 
     "desc": "ì„¸ê³„ì—ì„œ ê°€ì¥ ë†’ì€ íƒ€ì›Œ ì¤‘ í•˜ë‚˜", "station": "2í˜¸ì„  ì ì‹¤ì—­"},
]

# ì§€ë„ ì´ˆê¸° ìœ„ì¹˜: ì„œìš¸ ì¤‘ì‹¬
seoul_center = [37.5665, 126.9780]
m = folium.Map(location=seoul_center, zoom_start=12)

# ê´€ê´‘ì§€ ë§ˆì»¤ (í•‘í¬ìƒ‰ ì›í˜•)
for place in locations:
    popup_html = f"""
    <b>{place['name']}</b><br>
    {place['desc']}<br>
    ğŸš‡ <b>{place['station']}</b>
    """
    folium.CircleMarker(
        location=[place["lat"], place["lon"]],
        radius=8,
        color="#ff4da6",         # í•«í•‘í¬ í…Œë‘ë¦¬
        fill=True,
        fill_color="#ff66b2",    # í•‘í¬ ë‚´ë¶€
        fill_opacity=0.9,
        popup=popup_html,
        tooltip=place["name"],
    ).add_to(m)

# ì§€ë„ í‘œì‹œ (í¬ê¸° 70%)
st_folium(m, width=630, height=420)

# ê´€ê´‘ì§€ ì„¤ëª… ëª©ë¡
st.write("### ğŸ™ï¸ ì„œìš¸ ê´€ê´‘ì§€ TOP 10 ìš”ì•½")
for i, place in enumerate(locations, start=1):
    st.markdown(f"**{i}. {place['name']}** â€” {place['desc']} (ğŸš‡ {place['station']})")

st.write("---")

# ì—¬í–‰ ì¼ì • ìƒì„± ê¸°ëŠ¥
st.subheader("ğŸ“… ì—¬í–‰ ì¼ì • ë§Œë“¤ê¸°")

days = st.selectbox("ì—¬í–‰ ê¸°ê°„ì„ ì„ íƒí•˜ì„¸ìš” (1~3ì¼)", [1, 2, 3])

# ì¼ì • ìë™ ë¶„ë°°
places_per_day =
